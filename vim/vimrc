set nu
set relativenumber
map tt <C-W>w
map - <C-W><
map = <C-W>>
let mapleader = " "

nnoremap ; :
nnoremap : ;

nnoremap <C-n> :bn<CR>
nnoremap <C-p> :bp<CR>

"===== [ make 81st column stand out ] ===========
"Courtsey Damain Conway : https://www.youtube.com/watch?v=aHm36-na4-4
highlight ColorColumn ctermbg=magenta
call matchadd('ColorColumn', '\%81v', 100)


" Functions to mark tasks complete and incomplete
function! MarkIncomplete()
	normal! 0f[lR 
endfunction
nnoremap <leader>xx :call MarkIncomplete()<cr>
function! MarkComplete()
	normal! 0f[lRx
endfunction
nnoremap <leader>x :call MarkComplete()<cr>

function! AskQuit (msg, options, quit_option)
	if confirm(a:msg, a:options) == a:quit_option
		silent q!
	endif
endfunction

function! EnsureDirExists ()
	let required_dir = expand("%:h")
	if !isdirectory(required_dir)
		call AskQuit("Parent directory '" . required_dir . "' doesn't exist.",
		     \       "&Create it\nor &Quit?", 2)
		try
			call mkdir( required_dir, 'p' )
		catch
			call AskQuit("Can't create '" . required_dir . "'",
			     \       "&Quit\nor &Continue anyway?", 1)
		endtry
	endif
endfunction

augroup AutoMkdir
	autocmd!
	autocmd BufNewFile * :call EnsureDirExists()
augroup END

"============== [ ALE ] ==================
highlight AleError 	ctermfg=red	cterm=bold
highlight AleWarning 	ctermfg=magenta cterm=bold
let g:ale_set_loclist 		     = 0
let g:ale_set_quickfix		     = 1
let g:ale_set_signs		     = 0
let g:ale_linters = {
		\ 'python' : ['flake8'], 
		\     'latex'  : ['chktex'],
		\     'tex'    : ['all']
		\}
let g:airline#extensions#ale#enabled = 1

"============== [ vim-plug ] ==================
if empty(glob('~/.vim/autoload/plug.vim'))
  silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs
    \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif
call plug#begin('~/.vim/plugged')
Plug 'JuliaEditorSupport/julia-vim'
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'
Plug 'christoomey/vim-tmux-navigator'
Plug 'dense-analysis/ale'
call plug#end()

syntax off
